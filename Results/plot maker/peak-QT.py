import matplotlib.pyplot as plt
import datetime


values_fixedtime = [57.07745135444487, 58.81608310888804, 57.312739831158865, 57.924236567452645, 60.17927076299797, 60.76478585995921, 61.18209562563581, 59.16245733788396, 64.03340687046959, 64.03493172435694, 70.2404302435938, 72.96147723654887, 69.67963949201147, 57.528559602649004, 59.913849958779885, 53.692887029288705]
values_sf_cen = [69.87104158718047, 71.99499807618315, 106.83384497313891, 109.83107846926943, 109.9510465901418, 110.31883072739633, 103.09053916581892, 160.61194539249146, 166.42911633820725, 199.27084030800134, 139.54685494223364, 174.8421052631579, 207.0923590504451, 161.90935430463577, 117.39282769991756, 58.990794979079496]
values_sf_dec= [73.77336894315147, 91.35821469796075, 103.61051419800461, 113.78778507924237, 119.52295746117488, 93.799796057104, 97.29569345540861, 118.30341296928327, 114.79640718562874, 153.56430612892981, 163.281240113888, 192.52499204075136, 128.25276526013928, 94.34478476821192, 102.03462489694971, 84.91338912133891]
values_ctm_cen= [42.29835940480733, 45.552520200076955, 43.871834228702994, 44.763432547352146, 47.800810263335585, 53.58395649218219, 55.80162767039675, 52.19863481228669, 57.8811849984242, 66.10034931724357, 72.2125909522303, 73.73129576567972, 66.18148299877099, 54.83443708609271, 48.274938169826875, 42.694979079497905]
values_ctm_dec= [42.038153376573824, 47.577529819161214, 60.09017651573292, 53.03710862002319, 57.08811613774477, 86.57443915703602, 85.24957612750084, 79.34914675767918, 83.81626221241727, 97.16862496030485, 104.96456817462828, 121.93505253104107, 78.88037689471528, 41.58443708609271, 45.81863149216818, 39.46192468619247]

# Generate time intervals from 6:00 AM to 10:00 AM in 15-minute intervals
start_time = datetime.datetime.strptime("06:15", "%H:%M")
time_intervals = [start_time + datetime.timedelta(minutes=15*i) for i in range(16)]

# Plotting
plt.figure(figsize=(10, 6))
plt.plot(time_intervals, values_fixedtime, marker='o', label='Fixed Time', linewidth = 3)
plt.plot(time_intervals, values_sf_cen, marker='v', label='SF Centralized')
plt.plot(time_intervals, values_sf_dec, marker='^', label='SF Decentralized')
plt.plot(time_intervals, values_ctm_cen, marker='>', label='CTM Centralized')
plt.plot(time_intervals, values_ctm_dec, marker='<', label='CTM Decentralized')

plt.title("Average Queue Times from 6 AM to 10 AM (15 minute-window)")
plt.xlabel("Time")
plt.ylabel("Average Queue Time (s)")
plt.xticks(time_intervals, [t.strftime("%H:%M") for t in time_intervals], rotation=45)


# Setting x-axis limits
end_time = start_time + datetime.timedelta(hours=4)
plt.xlim([start_time, end_time])
plt.legend()

plt.grid(True)
plt.tight_layout()
plt.show()
