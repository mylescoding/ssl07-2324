import matplotlib.pyplot as plt
import datetime


values_fixedtime = [4.715324074074074, 5.4803240740740735, 4.970277777777778, 5.409444444444444, 4.866342592592592, 5.39324074074074, 4.936388888888889, 5.349675925925926, 6.382453703703703, 6.9332870370370365, 6.564444444444444, 6.8119907407407405, 6.414444444444444, 6.5637037037037045, 6.356481481481481, 6.654629629629629]

values_sf_cen = [5.1019907407407405, 6.604351851851852, 5.546342592592592, 6.439768518518519, 6.973472222222223, 5.871990740740741, 6.575046296296296, 6.437407407407407, 11.046851851851853, 11.338333333333333, 8.887500000000001, 9.019907407407407, 10.214953703703705, 9.300324074074075, 7.836481481481481, 9.700833333333334]

values_sf_dec= [5.50462962962963, 9.592731481481481, 8.664351851851853, 7.751990740740741, 7.848472222222223, 9.444166666666666, 8.695601851851853, 7.378194444444444, 11.691574074074074, 11.376481481481482, 16.904537037037038, 13.577916666666667, 12.343703703703703, 9.761111111111111, 13.16398148148148, 10.689953703703702]

values_ctm_cen=[3.7798611111111113, 4.149490740740741, 4.439398148148148, 4.040601851851852, 4.1708796296296295, 4.129027777777778, 4.048009259259259, 4.117916666666667, 5.090185185185185, 4.981851851851852, 5.145787037037037, 5.403796296296296, 4.978472222222222, 5.198009259259259, 5.058101851851852, 5.133055555555555]

values_ctm_dec= [3.6493055555555554, 3.627824074074074, 3.5828703703703706, 3.3562499999999997, 3.4691203703703706, 3.6684259259259258, 4.364259259259259, 3.8665740740740744, 5.329166666666667, 6.390925925925926, 5.774444444444445, 5.246018518518519, 5.0099074074074075, 5.27287037037037, 5.816527777777778, 5.590648148148148]


# Generate time intervals from 6:00 AM to 10:00 AM in 15-minute intervals
start_time = datetime.datetime.strptime("11:15", "%H:%M")
time_intervals = [start_time + datetime.timedelta(minutes=15*i) for i in range(16)]

# Plotting
plt.figure(figsize=(10, 6))
plt.plot(time_intervals, values_fixedtime, marker='o', label='Fixed Time', linewidth = 3)
plt.plot(time_intervals, values_sf_cen, marker='v', label='SF Centralized')
plt.plot(time_intervals, values_sf_dec, marker='^', label='SF Decentralized')
plt.plot(time_intervals, values_ctm_cen, marker='>', label='CTM Centralized')
plt.plot(time_intervals, values_ctm_dec, marker='<', label='CTM Decentralized')

plt.title("Average Queue Lengths from 11 AM to 3 PM (15 minute-window)")
plt.xlabel("Time")
plt.ylabel("Average Queue Length (veh)")
plt.xticks(time_intervals, [t.strftime("%H:%M") for t in time_intervals], rotation=45)


# Setting x-axis limits
end_time = start_time + datetime.timedelta(hours=4)
plt.xlim([start_time, end_time])
plt.legend()

plt.grid(True)
plt.tight_layout()
plt.show()
