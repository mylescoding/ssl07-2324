import matplotlib.pyplot as plt
import datetime


values_fixedtime = [6.086203703703704, 7.274768518518518, 6.560046296296296, 7.232685185185185, 7.616574074074074, 8.571712962962962, 7.93037037037037, 8.382962962962962, 8.703564814814815, 9.552175925925926, 9.483935185185185, 10.92199074074074, 8.124675925925926, 6.936851851851852, 6.351898148148148, 6.351851851851852]
values_sf_cen = [7.001157407407407, 9.200555555555555, 11.771018518518519, 12.87449074074074, 14.532083333333333, 15.435787037037038, 13.650324074074073, 18.883518518518517, 24.36078703703704, 26.504074074074072, 22.171111111111113, 25.089444444444442, 23.36402777777778, 21.135, 14.874907407407408, 7.845185185185184]
values_sf_dec= [7.0260648148148155, 12.023657407407407, 11.453333333333333, 12.760787037037035, 16.448981481481482, 14.100833333333334, 11.826388888888888, 17.025185185185183, 16.07865740740741, 20.198287037037037, 22.562407407407406, 28.184814814814814, 17.845555555555556, 10.767361111111112, 12.084305555555554, 9.263055555555555]
values_ctm_cen=[4.818981481481481, 5.29125, 5.40162037037037, 5.326203703703704, 6.398194444444445, 7.017129629629629, 7.744398148148147, 6.948564814814815, 8.299444444444445, 9.337083333333334, 10.164398148148148, 10.835185185185184, 8.135787037037037, 6.2625, 5.411944444444444, 4.9013888888888895]
values_ctm_dec=[4.811944444444444, 5.339398148148148, 7.189768518518519, 6.641435185185185, 7.245138888888889, 10.869814814814815, 11.685648148148148, 11.518657407407408, 11.17074074074074, 13.845925925925926, 14.934027777777779, 16.601111111111113, 12.104166666666666, 4.7128703703703705, 5.120277777777778, 4.616481481481482]
# Generate time intervals from 6:00 AM to 10:00 AM in 15-minute intervals
start_time = datetime.datetime.strptime("06:15", "%H:%M")
time_intervals = [start_time + datetime.timedelta(minutes=15*i) for i in range(16)]

# Plotting
plt.figure(figsize=(10, 6))
plt.plot(time_intervals, values_fixedtime, marker='o', label='Fixed Time', linewidth = 3)
plt.plot(time_intervals, values_sf_cen, marker='v', label='SF Centralized')
plt.plot(time_intervals, values_sf_dec, marker='^', label='SF Decentralized')
plt.plot(time_intervals, values_ctm_cen, marker='>', label='CTM Centralized')
plt.plot(time_intervals, values_ctm_dec, marker='<', label='CTM Decentralized')

plt.title("Average Queue Lengths from 6 AM to 10 AM (15 minute-window)")
plt.xlabel("Time")
plt.ylabel("Average Queue Length (veh)")
plt.xticks(time_intervals, [t.strftime("%H:%M") for t in time_intervals], rotation=45)


# Setting x-axis limits
end_time = start_time + datetime.timedelta(hours=4)
plt.xlim([start_time, end_time])
plt.legend()

plt.grid(True)
plt.tight_layout()
plt.show()
