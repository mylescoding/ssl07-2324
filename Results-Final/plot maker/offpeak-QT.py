import matplotlib.pyplot as plt
import datetime


values_fixedtime = [56.603398058252424, 57.531664212076585, 56.03478686918177, 56.372161895360314, 57.556154977930355, 55.99008428358949, 57.7149209486166, 55.95962113659023, 61.288253477588874, 59.562231759656655, 63.87645687645688, 59.9174168297456, 67.6990407673861, 64.61315046389673, 71.67348576012836, 74.52117263843648]

values_sf_cen = [44.59611650485437, 55.00638193421699, 47.546300832925034, 53.663869693978285, 59.59048553212359, 56.130887456618744, 52.14377470355731, 49.7073778664008, 72.32689335394127, 59.42450253609052, 68.4001554001554, 66.27436399217221, 67.23061550759392, 66.41670028237192, 61.87926193341356, 60.94014657980456]

values_sf_dec= [68.04514563106797, 71.84241531664212, 71.26261636452719, 82.21076011846002, 70.08631682197155, 80.25086762518592, 59.89278656126482, 69.75922233300099, 79.32187017001546, 117.00663285212642, 106.7066822066822, 95.32759295499021, 81.71103117505996, 86.5623235175474, 80.97954271961493, 109.72597719869707]

values_ctm_cen= [43.17766990291262, 41.053510063819346, 43.62420382165605, 43.2324777887463, 43.061794997547814, 41.86117997025285, 45.573122529644266, 43.1011964107677, 45.30216383307573, 50.11900117050332, 55.82867132867133, 59.56086105675147, 66.78177458033574, 65.847519160952, 63.79743281187324, 63.96986970684039]

values_ctm_dec= [58.72572815533981, 73.33136966126656, 71.32386085252327, 101.31194471865746, 120.5301618440412, 148.64352999504214, 163.09387351778656, 178.58624127617148, 220.7375296912114, 195.50554323725055, 206.67683465959328, 209.13957375679064, 233.39370078740157, 263.25773195876286, 260.6087735004476, 189.0294659300184]

# Generate time intervals from 6:00 AM to 10:00 AM in 15-minute intervals
start_time = datetime.datetime.strptime("11:15", "%H:%M")
time_intervals = [start_time + datetime.timedelta(minutes=15*i) for i in range(16)]

# Plotting
plt.figure(figsize=(10, 6))
plt.plot(time_intervals, values_fixedtime, marker='o', label='Fixed Time', linewidth = 3)
plt.plot(time_intervals, values_sf_cen, marker='v', label='SF Centralized')
plt.plot(time_intervals, values_sf_dec, marker='^', label='SF Decentralized')
plt.plot(time_intervals, values_ctm_cen, marker='>', label='CTM Centralized')
plt.plot(time_intervals, values_ctm_dec, marker='<', label='CTM Decentralized')

plt.title("Average Queue Times from 11 AM to 3 PM (15 minute-window)")
plt.xlabel("Time")
plt.ylabel("Average Queue Time (s)")
plt.xticks(time_intervals, [t.strftime("%H:%M") for t in time_intervals], rotation=45)


# Setting x-axis limits
end_time = start_time + datetime.timedelta(hours=4)
plt.xlim([start_time, end_time])
plt.legend()

plt.grid(True)
plt.tight_layout()
plt.show()
